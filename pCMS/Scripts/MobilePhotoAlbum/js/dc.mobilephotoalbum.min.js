(function($){var UICaptionController={align:DC.Alignment.BOTTOM,text:"",_caption:null,_hidden:true,_textDirty:false,_inAnimation:false,_timer:null,onShow:DC.NOOP,onHide:DC.NOOP,createChildren:function(){this._super();this._caption=new DC.UIText({id:"caption_test",styles:"UICaption "+this.styles,text:"caption",background:true});},createComplete:function(){this._super();this._caption.setXY(0,10000);this.delegate.addChild(this._caption);if(this.text&&this.text!=""){this.setText(this.text);}},setSize:function(w,h){this._super(w,h);this._caption.setSize(this.innerWidth,this._caption.height);var offset=0;if(this._hidden){offset=(this.align==DC.Alignment.TOP)?-this._caption.height:this.innerHeight;this._caption.setXY(0,offset+this.y);this._caption.setVisible(false);}else{offset=(this.align==DC.Alignment.TOP)?0:this.innerHeight-this._caption.height;this._caption.setXY(0,offset+this.y);}},handleCaptionHideEnd:function(){this._hidden=true;this.updateText();this.onHide();},handleCaptionOpenEnd:function(){this._hidden=false;this.onShow();},updateText:function(){if(this._textDirty){this._caption.setVisible(true);this._caption.setText(this.text);this._caption.setSize(this.innerWidth,this._caption.height);var offset=0;if(this._hidden){offset=(this.align==DC.Alignment.TOP)?-this._caption.height:this.innerHeight;this._caption.setXY(0,offset+this.y);this._caption.setVisible(false);}else{offset=(this.align==DC.Alignment.TOP)?0:this.innerHeight-this._caption.height;this._caption.setXY(0,offset+this.y);}this._textDirty=false;}},open:function(){var self=this;if(this._hidden){this.updateText();if(this.text&&this.text!=undefined&&this.text!=""&&!this._inAnimation){var offset=(self.align==DC.Alignment.TOP)?0:self.innerHeight-self._caption.height;self._inAnimation=true;setTimeout(function(){self._caption.setVisible(true,0.2);self._caption.setXY(0,offset+self.y,0.4,"easeOut",function(){self._inAnimation=false;self.handleCaptionOpenEnd();});},300);}else{}}},close:function(){var self=this;if(this._hidden&&!this._inAnimation){this.handleCaptionHideEnd();}else{var offset=(this.align==DC.Alignment.TOP)?-this._caption.height:this.innerHeight;self._inAnimation=true;this._caption.setXY(0,offset+this.y,0.1,"easeIn",function(){self._inAnimation=false;self.handleCaptionHideEnd();self._caption.setVisible(false);});}},setText:function(value){this.text=value;this._textDirty=true;}};DC.UICaptionController=DC.UI.extend(UICaptionController);})(jQuery);(function($){var UIToolbar={title:"",_title:null,createChildren:function(){this._super();this._title=new DC.UIText({styles:"title"});this.addClass("UIToolbar");},createComplete:function(){this._super();this.addChild(this._title);this.setBackground(true);if(this.title){this.setTitle(this.title);}},invalidatelLayout:function(w,h){this._super(w,h);this._title.setSize(this.innerWidth,this.innerHeight);},setTitle:function(value){this._title.setText(value);this._title.setSize(this.innerWidth,this.innerHeight);}};DC.UIToolbar=DC.Container.extend(UIToolbar);})(jQuery);(function($){DC.UINavigationController={rightContent:null,defaultHeader:"",mainHeader:"",toolbarPosition:DC.Alignment.TOP,allowHideToolbar:false,_toolbarView:null,_contentView:null,_currentView:null,_lastView:null,_loadingView:null,_views:null,_backButton:null,_toolbarHidden:true,_inAnimation:false,createChildren:function(){this._super();var self=this;this.addClass("UINavigationView");this._contentView=new DC.Container({styles:"content"});this._toolbarView=new DC.UIToolbar({title:this.defaultHeader,styles:"glossy"});this._backButton=new DC.UIButton({styles:"left",text:"&#171;",visible:false,onClick:function(){self.handleBackButton();}});this._backButton.setXY(10,10);this._loadingView=new DC.Container({styles:"loading",width:100,height:60});this._loadingView.css({"background-color":"rgba(0,0,0,.8)"});this._loadingView.setVisible(false);this._views=[];},createComplete:function(){this._super();DC.synthesize("toolbarPosition",this);this._toolbarView.addChild(this._backButton,true);this.addChildAt(this._contentView,0,true);this.addChild(this._toolbarView,true);this.addChild(this._loadingView,true);},invalidatelLayout:function(w,h){this._super(w,h);this.commitProperties();},commitSize:function(){this._super();this._contentView.setSize(this.innerWidth,this.innerHeight);this._toolbarView.setSize(this.innerWidth,50);this._loadingView.setSize(100,60);this._loadingView.setXY(this.innerWidth/2-50,this.innerHeight/2-30);if(this.toolbarPosition==DC.Alignment.TOP){this._toolbarView.setXY(0,0);}else{this._toolbarView.setXY(0,this.innerHeight-this._toolbarView.height);}if(!this._inAnimation){this.resizeCurrentViews();}},commitProperties:function(prop,value){},handleBackButton:function(){this._backButton.setVisible(false);this._removeEvent();this.popView();},handlePushViewEnd:function(){if(this._lastView){this._contentView.removeChild(this._lastView,true);this._backButton.setVisible(true);}this._loadingView.setVisible(false);this._inAnimation=false;},handlePopViewEnd:function(){log("handlePopViewEnd 2");this._contentView.removeChild(this._currentView,true);this._currentView=this._lastView;this._backButton.setVisible((this._views.length>1));this._loadingView.setVisible(false);this._inAnimation=false;},_addEvent:function(){var self=this;this._contentView.ui.bind("click",function(e){if(self._toolbarHidden){self.showToolbar();}else{self.hideToolbar();}});},_removeEvent:function(){this._contentView.ui.unbind("click");},resizeCurrentViews:function(){if(this._currentView){var size=(this.allowHideToolbar)?this.innerHeight:this.innerHeight-this._toolbarView.height;var offset=(!this.allowHideToolbar&&this.toolbarPosition==DC.Alignment.TOP)?this._toolbarView.height:0;this._currentView.setSize(this.innerWidth,size);this._currentView.setXY(0,offset);}},showToolbar:function(){this._toolbarHidden=false;this._toolbarView.setVisible(true,true);},hideToolbar:function(){this._toolbarHidden=true;if(this.allowHideToolbar){this._toolbarView.setVisible(false);}},pushView:function(ui,allowHideToolbar,delay){this._inAnimation=true;if(delay==undefined){delay=false;}var self=this;var offsetY=0;var size=this.innerHeight;this.allowHideToolbar=allowHideToolbar;this._views.push(ui);if(this.defaultHeader==""){this._toolbarView.setTitle(ui.label);}if(this.allowHideToolbar){size=this.innerHeight;}else{if(this.toolbarPosition==DC.Alignment.TOP){offsetY=this._toolbarView.height;}size=this.innerHeight-this._toolbarView.height;}this._backButton.setVisible(false);this._contentView.addChild(ui,true);ui.setXY(this.innerWidth,offsetY);ui.setSize(this.innerWidth,size);if(this._currentView){this._lastView=this._currentView;}this._currentView=ui;this._toolbarOffsetY=offsetY;if(!delay){this._pushViewAnimation();}},_pushViewAnimation:function(){var self=this;if(this._lastView){this._lastView.setXY(-this.innerWidth,this._lastView.y,0.5);}this._currentView.setXY(0,this._toolbarOffsetY,0.6,DC.easing.easeOutSine,function(){self.handlePushViewEnd();});},popView:function(){var self=this;this._views.pop();if(this._views.length<=0){return;}this.allowHideToolbar=false;this._currentView.setXY(this.innerWidth,this._currentView.y,0.5,"easeOutSine",function(){self.handlePopViewEnd();});this._lastView=this._views[this._views.length-1];if(this.defaultHeader==""){this._toolbarView.setTitle(this._lastView.label);}this._removeEvent();this.showToolbar();this._inAnimation=true;this._contentView.addChildAt(this._lastView,0);this._lastView.setSize(this.innerWidth,this.innerHeight-this._toolbarView.height);this._lastView.setXY(-this.innerWidth,this._lastView.y);this._lastView.setXY(0,this._lastView.y,0.5);},setDeafultHeader:function(value){this.defaultHeader=value;this._toolbarView.setTitle(value);}};window.DC.UINavigationController=DC.Container.extend(DC.UINavigationController);})(jQuery);(function($){DC.UILightbox={captionAutoHide:true,allowShowControls:true,allowShowCaption:true,controlsPosition:0,lockCaption:false,_currentData:null,_pageControlView:null,_captionController:null,_controlsBox:null,_zoomInButton:null,_zoomOutButton:null,_nextButton:null,_prevButton:null,_lastAllowShowCaption:false,_mousemovetimer:null,_controlsBoxPositionOffset:10,_haveEvent:false,onBuildComplete:DC.NOOP,createChildren:function(){this._super();
var self=this;this.addClass("UILightbox");this._pageControlView=new DC.UIPageControl({itemRenderer:DC.UILightboxRenderer,onPageScrollStart:function(){self._removeEvent();self._lastAllowShowCaption=self.allowShowCaption;self.allowShowCaption=false;self.closeCaption();},onPageChange:function(index,data){self._captionController.setText("");self.setCaption(data);},onPageScrollEnd:function(index){self.allowShowCaption=self._lastAllowShowCaption;self.openCaption();self.showControls();self._addEvent();},onBuildComplete:function(ds){self.onBuildComplete(ds);}});this._captionController=new DC.UICaptionController({delegate:this});this._controlsBox=new DC.Container({styles:"controls",clipping:false});this._zoomInButton=new DC.UIButton({id:"zoom button",text:"+",styles:"zoom corner",onDown:function(){if(self._pageControlView.currentPageView){self._pageControlView.currentPageView.zoomIn();}}});this._zoomOutButton=new DC.UIButton({text:"-",styles:"zoom corner",onDown:function(){if(self._pageControlView.currentPageView){self._pageControlView.currentPageView.zoomOut();}}});this._prevButton=new DC.UIButton({text:"&#171;",styles:"zoom corner",onDown:function(){self._pageControlView.prevPage();self.closeCaption();}});this._nextButton=new DC.UIButton({text:"&#187;",styles:"zoom corner",onDown:function(){self._pageControlView.nextPage();self.closeCaption();}});this._controlsBox.addChild(this._prevButton);this._controlsBox.addChild(this._zoomInButton);this._controlsBox.addChild(this._zoomOutButton);this._controlsBox.addChild(this._nextButton);this._prevButton.setXY(0,0);this._zoomInButton.setXY(50,0);this._zoomOutButton.setXY(100,0);this._nextButton.setXY(150,0);this._controlsBox.ui.hover(function(){self.isControlsOver=true;},function(){self.isControlsOver=false;});},createComplete:function(){this._super();var self=this;DC.synthesize("captionAutoHide",this);DC.synthesize("allowShowControls",this);DC.synthesize("allowShowCaption",this);this.addChildAt(this._pageControlView,0);this.addChild(this._controlsBox);},invalidatelLayout:function(w,h){this._super(w,h);this.commitProperties("captionAutoHide");},commitProperties:function(prop,value){if(prop=="allowShowControls"){if(this.allowShowControls){this.showControls();}else{this.hideControls();}}if(prop=="allowShowCaption"){if(this.allowShowCaption){this.openCaption();}else{this.closeCaption();}}if(prop=="captionAutoHide"){if(this.captionAutoHide){this._addEvent();}else{this._removeEvent();this.showControls();this.openCaption();}}},setSize:function(w,h){this._super(w,h);this._pageControlView.setSize(this.innerWidth,this.innerHeight);if(this.allowShowCaption){this._captionController.setSize(this.innerWidth,this.innerHeight);}this.setControlsBoxPosition(this.controlsPosition,this._controlsBoxPositionOffset);},_addEvent:function(){if(this.haveEvents){return;}var self=this;this.ui.bind("mousemove",function(){self.handleMouseMove();});this.handleMouseMove();},_removeEvent:function(){if(!this.haveEvents){return;}if(this._mousemovetimer){clearTimeout(this._mousemovetimer);}this.ui.unbind("mousemove");this._haveEvent=false;},handleMouseMove:function(){var self=this;if(self._captionController._hidden){self.openCaption();self.showControls();}if(self._mousemovetimer){clearTimeout(self._mousemovetimer);}this._mousemovetimer=setTimeout(function(){self.handleMouseNotMove();},5000);},handleMouseNotMove:function(){this.closeCaption();this.hideControls();},setSource:function(data){this._lastAllowShowCaption=this.allowShowCaption;if(data){this._currentData=data;this._captionController._hidden=true;if(this.allowShowCaption){this._captionController.setText("");}this._pageControlView.setDataSource(data);}},setControlsBoxPosition:function(position,offset){if(!this.allowShowControls){return;}if(position==undefined){position=this.controlsPosition;}if(offset==undefined){offset=this._controlsBoxPositionOffset;}if(position==DC.Alignment.TOP){this._captionController.align=DC.Alignment.BOTTOM;}else{this._captionController.align=DC.Alignment.TOP;}this._controlsBoxPositionOffset=offset;this.controlsPosition=position;if(position==0){this._controlsBox.setXY((this.innerWidth-200)/2,offset);}else{this._controlsBox.setXY((this.innerWidth-200)/2,this.innerHeight-offset-40);}},gotoImage:function(index,data){this.setSize(this.width,this.height);this._pageControlView.setCurrentPageIndex(index);},showControls:function(){if(this.allowShowControls&&!this.lockCaption){this.setControlsBoxPosition();}else{this._controlsBox.setXY(this.innerWidth,this.innerHeight*2);}},hideControls:function(){this._controlsBox.setXY(this.innerWidth,this.innerHeight*2);},setCaption:function(data){if(data){}else{return;}var content="";if(data.title){content+=data.title;if(data.description){content+="<br/><small>"+data.description+"</small>";}}else{if(data.description){content+="<small>"+data.description+"</small>";}}this._captionController.setText(content);},openCaption:function(){if(this.allowShowCaption&&this._captionController.text!=""&&!this.lockCaption){this._captionController.open();}},closeCaption:function(){this._captionController.close();},lockControls:function(){log("lockscontrols");this.lockCaption=true;this.hideControls();this.closeCaption();},unlockControls:function(){log("unlockscontrols");this.lockCaption=false;this.showControls();this.openCaption();}};window.DC.UILightbox=DC.Container.extend(DC.UILightbox);})(jQuery);(function($){var UIGallery={catThumbnailResizeMode:DC.Size.AUTO_FILL,catThumbnailWidth:140,catThumbnailHeight:160,catThumbnailBorder:3,catThumbnailBorderColor:"#FFFFFF",catThumbnailGap:10,catThumbnailShowAll:true,catThumbnailCaption:true,thumbnailWidth:75,thumbnailHeight:75,thumbnailResizeMode:DC.Size.AUTO_FILL,thumbnailBorder:0,thumbnailBorderColor:"#FFFFFF",thumbnailGap:4,thumbnailCaption:false,catThumbnailOnly:false,captionAutoHide:true,allowShowControls:true,allowShowCaption:true,_albumListView:null,_imageListView:null,_lightboxView:null,_catalogSource:null,_imagesSource:null,_currentImagesDatasource:null,createChildren:function(){this._super();this._albumListView=new DC.UIImageList({label:this.mainHeader,styles:"catalog_list",width:100,height:100,columnCount:0,rowCount:0,imageResizeMode:this.catThumbnailResizeMode,itemRenderer:DC.UIImageWithCaptionRenderer,cellWidth:this.catThumbnailWidth,cellHeight:this.catThumbnailHeight,gap:this.catThumbnailGap});this._albumListView.itemRendererOptions.border=this.catThumbnailBorder;this._albumListView.itemRendererOptions.captionEnabled=this.catThumbnailCaption;this._albumListView._scrollController.name="_albumListView";this._imageListView=new DC.UIImageList({styles:"image_list",width:100,height:100,columnCount:0,rowCount:0,itemRenderer:DC.UIImageWithCaptionRenderer,imageResizeMode:this.thumbnailResizeMode,cellWidth:this.thumbnailWidth,cellHeight:this.thumbnailHeight,gap:this.thumbnailGap});this._imageListView.itemRendererOptions.border=this.thumbnailBorder;this._imageListView.itemRendererOptions.captionEnabled=this.thumbnailCaption;this._imageListView._scrollController.name="_imageListView";this._lightboxView=new DC.UILightbox({controlsPosition:this.toolbarPosition});},createComplete:function(){this._super();DC.synthesize("catThumbnailResizeMode",this);DC.synthesize("catThumbnailWidth",this);DC.synthesize("catThumbnailHeight",this);DC.synthesize("catThumbnailBorder",this);DC.synthesize("catThumbnailBorderColor",this);DC.synthesize("catThumbnailGap",this);DC.synthesize("catThumbnailShowAll",this);DC.synthesize("thumbnailWidth",this);DC.synthesize("thumbnailHeight",this);DC.synthesize("thumbnailResizeMode",this);DC.synthesize("thumbnailBorder",this);DC.synthesize("thumbnailBorderColor",this);DC.synthesize("thumbnailGap",this);DC.synthesize("catThumbnailOnly",this);DC.synthesize("captionAutoHide",this);DC.synthesize("allowShowControls",this);DC.synthesize("allowShowCaption",this);},commitProperties:function(prop,value){this._super(prop,value);this._albumListView.cellWidth=this.catThumbnailWidth;this._albumListView.cellHeight=this.catThumbnailHeight;
this._albumListView.setImageBorder(this.catThumbnailBorder);this._albumListView.setImageBorderColor(this.catThumbnailBorderColor);this._albumListView.setImageResizeMode(this.catThumbnailResizeMode);this._albumListView.gap=this.catThumbnailGap;this._imageListView.cellWidth=this.thumbnailWidth;this._imageListView.cellHeight=this.thumbnailHeight;this._imageListView.setImageBorder(this.thumbnailBorder);this._imageListView.setImageBorderColor(this.thumbnailBorderColor);this._imageListView.setImageResizeMode(this.thumbnailResizeMode);this._imageListView.gap=this.thumbnailGap;this._lightboxView.setCaptionAutoHide(this.captionAutoHide);this._lightboxView.setAllowShowControls(this.allowShowControls);this._lightboxView.setAllowShowCaption(this.allowShowCaption);var offset=(this.allowHideToolbar)?60:10;this._lightboxView.setControlsBoxPosition(this.toolbarPosition,offset);},setSize:function(w,h){this._super(w,h);if(this._currentView==this._albumListView){this._albumListView.setSize(this.innerWidth,this.innerHeight-this._toolbarView.height);}if(this._currentView==this._imageListView){this._imageListView.setSize(this.innerWidth,this.innerHeight-this._toolbarView.height);}if(this._currentView==this._lightboxView){if(DC.System.isIPhone){this._lightboxView.setSize(this.innerWidth,this.innerHeight);}else{this._lightboxView.setSize(this.innerWidth,this.innerHeight-this._toolbarView.height);}}},handleDatasourceComplete:function(e){this._catalogSource=[];this._imageSource={};this._imageSource["default"]=[];var others=[];this._imageSource["others"]=others;for(var i=0;i<e.data.length;i++){var item=e.data[i];if(item.category){var images=this._imageSource[item.category];if(images==undefined){images=this._imageSource[item.category]=[];this._catalogSource.push({title:item.category,thumbnail:item.thumbnail,category:item.category});}images.push(item);}else{others.push(item);}this._imageSource["default"].push(item);}if(this._catalogSource.length>0){if(others.length>0){this._imageSource["Others"]=[];this._catalogSource.push({title:"Others",thumbnail:others[0].thumbnail,category:"others"});}if(this.catThumbnailShowAll){this._catalogSource.push({title:"All",thumbnail:this._imageSource["default"][0].thumbnail,category:"default"});}this._loadAlbum();}else{this._loadImages("default");}var self=this;this._albumListView.addEventListener(DC.ListEvent.CLICK,function(e){self.handleAlbumEvent(e);});this._imageListView.addEventListener(DC.ListEvent.CLICK,function(e){self.handleImageEvent(e);});},handleAlbumEvent:function(e){if(e.data.category&&this._imageSource[e.data.category]){if(this.catThumbnailOnly){var self=this;this._currentImagesDatasource=new DC.DataSource({source:this._imageSource[e.data.category]});self.pushView(self._lightboxView,DC.System.isIPhone,true);self._lightboxView.setCaptionAutoHide(self.captionAutoHide);self._lightboxView.setAllowShowControls(self.allowShowControls);self._lightboxView.setAllowShowCaption(self.allowShowCaption);var offset=(self.allowHideToolbar)?60:10;self._lightboxView.setControlsBoxPosition(self.toolbarPosition,offset);self._lightboxView.onBuildComplete=function(){self._lightboxView.onBuildComplete=DC.NOOP;self._lightboxView.unlockControls();self._pushViewAnimation();self._addEvent();};self._lightboxView.setSource(self._currentImagesDatasource);self._lightboxView.gotoImage(e.index,e.data);}else{this._imageListView.label=e.data.category;this._loadImages(e.data.category);}}},_lastImageDatasource:null,handleImageEvent:function(e){if(e.data.source){this._loadingView.setVisible(true);var self=this;self.pushView(self._lightboxView,DC.System.isIPhone,true);self._lightboxView.setCaptionAutoHide(self.captionAutoHide);self._lightboxView.setAllowShowControls(self.allowShowControls);self._lightboxView.setAllowShowCaption(self.allowShowCaption);var offset=(self.allowHideToolbar)?60:10;self._lightboxView.setControlsBoxPosition(self.toolbarPosition,offset);self._lightboxView.onBuildComplete=function(){self._lightboxView.onBuildComplete=DC.NOOP;self._pushViewAnimation();self._addEvent();};if(this._lastImageDatasource!=this._currentImagesDatasource){this._lastImageDatasource=this._currentImagesDatasource;this._lightboxView.setSource(self._currentImagesDatasource);}else{this._pushViewAnimation();this._lightboxView.unlockControls();}self._lightboxView.gotoImage(e.index,e.data);}},handleAlbumBuildComplete:function(){this.pushView(this._albumListView);this._albumListView._scrollController.setAllowScroll(true);},handleImagesBuildComplete:function(){this.pushView(this._imageListView);this._imageListView._scrollController.setAllowScroll(true);},_loadAlbum:function(){var self=this;this._loadingView.setVisible(true);this._albumListView.onBuildComplete=function(){self.handleAlbumBuildComplete();};setTimeout(function(){self._albumListView.setDataSource(new DC.DataSource({source:self._catalogSource}));},100);},_loadImages:function(cat){var self=this;this._loadingView.setVisible(true);this._imageListView.onBuildComplete=function(){self.handleImagesBuildComplete();};setTimeout(function(){self._currentImagesDatasource=new DC.DataSource({source:self._imageSource[cat]});self._imageListView.setDataSource(self._currentImagesDatasource);},100);},popView:function(){if(this._currentView==this._lightboxView){this._currentView._removeEvent();this._currentView.closeCaption(true);}this._super();},showToolbar:function(){this._super();if(this._currentView==this._lightboxView){this._lightboxView._lastLockCaption=this._lightboxView.lockCaption=false;this._lightboxView.unlockControls();}},hideToolbar:function(){if(this._currentView==this._lightboxView){if(!this._lightboxView.isControlsOver){this._super();this._lightboxView._lastLockCaption=true;this._lightboxView.lockControls(true);}}else{this._super();}},load:function(src){var self=this;dataSource=new DC.XMLDataSource({source:src,onComplete:function(e){self.handleDatasourceComplete(e);}});}};DC.UIGallery=DC.UINavigationController.extend(UIGallery);})(jQuery);
/*
 * Mobile Photo Album jQuery Plugin
 * http://www.digicrafts.com.hk/components
 * Copyright (c) 2011 Digicrafts
 * All Rights Reserved.
 * 
 * @version 1.0.0
 * 
 * License information see below:
 * http://www.digicrafts.com.hk/components/license
 * 
 */
(function($){$.fn.extend({DCMobilePhotoAlbum:function(options){var defaults={source:null,settings:{}};if(DC.fullscreen&&(window.location.host.indexOf("localhost")==-1)){DC.Debug.debug=true;log("This is a trial version. Please visit http://www.digicrafts.com.hk/components for more products.");DC.Debug.debug=false;return{};}var options=$.extend(defaults,options);var self=this;return this.each(function(){self.gallery=new DC.UIGallery(options);self.setProperty=function(group,parameter,value){};self.setSize=function(w,h){self.gallery.setSize(w,h);};if(options.styles!=undefined){var themeColor=(options.styles.themeColor==undefined)?"":DC.hexToRGB(options.styles.themeColor);var themeColorS=(options.styles.themeColor==undefined)?"":options.styles.themeColor;var themeGlossy=(options.styles.themeGlossy==undefined||options.styles.themeGlossy==false)?"":"none";var themeAlpha=(options.styles.themeAlpha==undefined)?0.8:options.styles.themeAlpha;var themeTextColor=(options.styles.themeTextColor==undefined)?"":options.styles.themeTextColor;if(themeColor!=""){themeColor="rgba("+themeColor.r+","+themeColor.g+","+themeColor.b+","+themeAlpha+")";}if(DC.System.isOldIE){themeColor="transparent";}var theme={"color":themeTextColor,"background-color":themeColor,"background-image":themeGlossy};if(DC.System.isOldIE){theme["filter"]=DC.getIETransparentColor(themeColorS,themeAlpha);}self.gallery.ui.find(".UIToolbar").css(theme);self.gallery.ui.find(".UIButton").css(theme);self.gallery._lightboxView.ui.find(".UIButton").css(theme);self.gallery.ui.find(".UIImageRenderer .caption").css(theme);var captionBackgroundColor=(options.styles.captionBackgroundColor==undefined)?"":DC.hexToRGB(options.styles.captionBackgroundColor);var captionBackgroundAlpha=(options.styles.captionBackgroundAlpha==undefined)?0.8:options.styles.captionBackgroundAlpha;
if(captionBackgroundColor!=""){captionBackgroundColor="rgba("+captionBackgroundColor.r+","+captionBackgroundColor.g+","+captionBackgroundColor.b+","+captionBackgroundAlpha+")";}var captionTextColor=(options.styles.captionTextColor==undefined)?"":options.styles.captionTextColor;var captionColorCSS={"color":captionTextColor,"background-color":captionBackgroundColor};if(DC.System.isOldIE){captionColorCSS["filter"]=DC.getIETransparentColor(captionBackgroundColor,captionBackgroundAlpha);}self.gallery._lightboxView.ui.find(".UICaption").css(captionColorCSS);if(options.styles.catThumbnailBackground=="none"||options.styles.catThumbnailBackground==undefined){self.gallery._albumListView._contentContainer.css({"background-image":""});}else{self.gallery._albumListView._contentContainer.css({"background-position":"0 "+options.styles.catThumbnailGap+"px","background-image":"url("+options.styles.catThumbnailBackground+")","background-image-scale":"100%"});}if(options.styles.thumbnailBackground=="none"||options.styles.thumbnailBackground==undefined){self.gallery._imageListView._contentContainer.css({"background-image":""});}else{self.gallery._imageListView._contentContainer.css({"background-position":"0 "+options.styles.thumbnailGap+"px","background-image":"url("+options.styles.thumbnailBackground+")"});}}self.load=function(src){self.gallery.load(src);};self.gallery.attachTo(this);self.gallery.setSize($(this).width(),$(this).height());self.gallery.load(options.source);});}});})(jQuery);